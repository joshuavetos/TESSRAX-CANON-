{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://tessrax.io/schemas/claim_and_artifact.schema.json",
  "title": "Tessrax Claim + Artifact Schema",
  "type": "object",
  "required": ["claim_data", "artifact"],
  "properties": {
    "claim_data": {
      "type": "object",
      "required": ["custodian_class"],
      "properties": {
        "custodian_class": {
          "type": "string",
          "enum": ["COURT", "TREASURER", "FEDERAL_LIQUIDATOR"],
          "description": "Custodian classification determining required MVE fields"
        }
      },
      "additionalProperties": true
    },
    "artifact": {
      "type": "object",
      "required": ["retrieval_timestamp", "metadata", "claimant_name"],
      "properties": {
        "claimant_name": {
          "type": "string",
          "minLength": 1
        },
        "case_number": {
          "type": "string"
        },
        "jurisdiction_code": {
          "type": "string"
        },
        "failed_institution_name": {
          "type": "string"
        },
        "dormancy_context": {
          "type": "string"
        },
        "retrieval_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "ISO-8601 UTC timestamp"
        },
        "metadata": {
          "type": "object",
          "properties": {
            "login_required": { "type": "boolean" },
            "aggregate_only": { "type": "boolean" },
            "admin_contact_only": { "type": "boolean" },
            "no_claimant_list": { "type": "boolean" },
            "sealed_docket": { "type": "boolean" }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
